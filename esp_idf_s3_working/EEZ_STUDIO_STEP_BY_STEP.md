# EEZ Studio - –ü–æ—à–∞–≥–æ–≤–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ ECU Dashboard

## üéØ –ü–æ–ª–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞ ECU Dashboard –≤ EEZ Studio

**–í–ù–ò–ú–ê–ù–ò–ï:** EEZ Studio —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ –≤–∏–∑—É–∞–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å drag-and-drop, –∞ –ù–ï —á–µ—Ä–µ–∑ –∏–º–ø–æ—Ä—Ç —Ñ–∞–π–ª–æ–≤!

---

## üì• –®–∞–≥ 1: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ EEZ Studio

### –ó–∞–≥—Ä—É–∑–∫–∞:
- **GitHub:** https://github.com/eez-open/studio/releases
- **–û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π —Å–∞–π—Ç:** https://www.envox.eu/studio/

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞:
- **Windows:** `EEZ-Studio-Setup-x.xx.x.exe`
- **Linux:** `eezstudio_x.xx.x_amd64.deb`
- **macOS:** –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è

---

## üÜï –®–∞–≥ 2: –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ LVGL –ø—Ä–æ–µ–∫—Ç–∞

### 2.1 –ó–∞–ø—É—Å–∫ EEZ Studio
1. –û—Ç–∫—Ä–æ–π—Ç–µ EEZ Studio
2. –ù–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ –Ω–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É **"Create"**

### 2.2 –í—ã–±–æ—Ä —à–∞–±–ª–æ–Ω–∞
1. –í—ã–±–µ—Ä–∏—Ç–µ **"LVGL"** (–ù–ï "LVGL with EEZ Flow")
2. **Project name:** `ECU_Dashboard`
3. **Location:** –≤—ã–±–µ—Ä–∏—Ç–µ –ø–∞–ø–∫—É –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞
4. –ù–∞–∂–º–∏—Ç–µ **"Create Project"**

### 2.3 –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–∏—Å–ø–ª–µ—è
1. –í –ª–µ–≤–æ–π –ø–∞–Ω–µ–ª–∏ –æ—Ç–∫—Ä–æ–π—Ç–µ **Pages ‚Üí main**
2. –í –ø—Ä–∞–≤–æ–π –ø–∞–Ω–µ–ª–∏ **Properties** —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ:
   - **Width:** `800`
   - **Height:** `480`
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Settings** –∏ –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ —Ä–∞–∑–º–µ—Ä—ã

---

## üé® –®–∞–≥ 3: –°–æ–∑–¥–∞–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö

### 3.1 –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
–í –ª–µ–≤–æ–π –ø–∞–Ω–µ–ª–∏ **Variables** –Ω–∞–∂–º–∏—Ç–µ **"+"** –∏ —Å–æ–∑–¥–∞–π—Ç–µ:

```
1. map_pressure
   Type: integer
   Min: 100, Max: 250
   Default: 100

2. wastegate_pos
   Type: integer  
   Min: 0, Max: 100
   Default: 0

3. tps_position
   Type: integer
   Min: 0, Max: 100
   Default: 0

4. engine_rpm
   Type: integer
   Min: 0, Max: 7000
   Default: 0

5. target_boost
   Type: integer
   Min: 100, Max: 250
   Default: 100

6. tcu_status
   Type: integer
   Min: 0, Max: 2
   Default: 0
```

---

## üîß –®–∞–≥ 4: –°–æ–∑–¥–∞–Ω–∏–µ –¥–∞—Ç—á–∏–∫–æ–≤ (Drag-and-Drop)

### 4.1 MAP Pressure Gauge (–°–∏–Ω–∏–π)
1. **–ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ "Arc"** –∏–∑ Components palette –Ω–∞ canvas
2. **Position:** X=50, Y=50
3. **Size:** Width=180, Height=180
4. **Properties:**
   - Min: `100`
   - Max: `250`
   - Value: –≤—ã–±–µ—Ä–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `map_pressure`
   - Color: `#00D4FF`
5. **–î–æ–±–∞–≤—å—Ç–µ Label:** –ø–µ—Ä–µ—Ç–∞—â–∏—Ç–µ "Label" –ø–æ–¥ –¥–∞—Ç—á–∏–∫
   - Text: `MAP kPa`

### 4.2 Wastegate Position (–ó–µ–ª–µ–Ω—ã–π)
1. **–ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ "Arc"** –Ω–∞ canvas
2. **Position:** X=280, Y=50
3. **Size:** 180√ó180
4. **Properties:**
   - Min: `0`
   - Max: `100`
   - Value: `wastegate_pos`
   - Color: `#00FF88`
5. **Label:** `Wastegate %`

### 4.3 TPS Position (–ñ–µ–ª—Ç—ã–π)
1. **Arc** ‚Üí Position: X=510, Y=50, Size=180√ó180
2. **Properties:**
   - Min: `0`
   - Max: `100`
   - Value: `tps_position`
   - Color: `#FFD700`
3. **Label:** `TPS %`

### 4.4 Engine RPM (–û—Ä–∞–Ω–∂–µ–≤—ã–π)
1. **Arc** ‚Üí Position: X=50, Y=280, Size=180√ó180
2. **Properties:**
   - Min: `0`
   - Max: `7000`
   - Value: `engine_rpm`
   - Color: `#FF6B35`
3. **Label:** `RPM`

### 4.5 Target Boost (–ñ–µ–ª—Ç—ã–π)
1. **Arc** ‚Üí Position: X=280, Y=280, Size=180√ó180
2. **Properties:**
   - Min: `100`
   - Max: `250`
   - Value: `target_boost`
   - Color: `#FFD700`
3. **Label:** `Target kPa`

### 4.6 TCU Status LED
1. **–ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ "LED"** ‚Üí Position: X=570, Y=350, Size=120√ó80
2. **Properties ‚Üí States:** –Ω–∞–∂–º–∏—Ç–µ "+" –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–π:
   - **State 0:** Color=`#00FF00`, Text=`TCU OK`
   - **State 1:** Color=`#FFD700`, Text=`TCU WARN`
   - **State 2:** Color=`#FF0000`, Text=`TCU ERROR`
3. **Value:** –≤—ã–±–µ—Ä–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `tcu_status`

---

## üé® –®–∞–≥ 5: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–µ–º—ã

### 5.1 –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ñ–æ–Ω–∞
1. –í—ã–±–µ—Ä–∏—Ç–µ –≤–µ—Å—å —ç–∫—Ä–∞–Ω (main)
2. –í Properties —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ:
   - **Background Color:** `#1a1a1a` (—Ç–µ–º–Ω—ã–π)

### 5.2 –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Arc —Å—Ç–∏–ª–µ–π
–î–ª—è –∫–∞–∂–¥–æ–≥–æ Arc –¥–∞—Ç—á–∏–∫–∞:
1. **Background Arc Color:** `#2d2d2d`
2. **Arc Width:** `8`
3. **Needle Color:** `#FFFFFF` (–±–µ–ª—ã–π)

---

## üî® –®–∞–≥ 6: Build –∏ —ç–∫—Å–ø–æ—Ä—Ç –∫–æ–¥–∞

### 6.1 –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏ Build
1. **–°–æ—Ö—Ä–∞–Ω–∏—Ç—å:** Ctrl+S
2. **Build:** –Ω–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É üîß (wrench) –≤ toolbar
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:** –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –æ—à–∏–±–æ–∫ –≤ –∫–æ–Ω—Å–æ–ª–∏

### 6.2 –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
–í –ø–∞–ø–∫–µ –ø—Ä–æ–µ–∫—Ç–∞ –ø–æ—è–≤—è—Ç—Å—è:
```
‚îú‚îÄ‚îÄ ui.h              # –û—Å–Ω–æ–≤–Ω–æ–π UI –∑–∞–≥–æ–ª–æ–≤–æ–∫
‚îú‚îÄ‚îÄ ui.c              # –†–µ–∞–ª–∏–∑–∞—Ü–∏—è UI
‚îú‚îÄ‚îÄ screens.h         # –≠–∫—Ä–∞–Ω—ã –∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îú‚îÄ‚îÄ screens.c         # –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —ç–∫—Ä–∞–Ω–æ–≤
‚îú‚îÄ‚îÄ vars.h            # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
‚îú‚îÄ‚îÄ vars.c            # –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
‚îî‚îÄ‚îÄ assets.h          # –†–µ—Å—É—Ä—Å—ã (—à—Ä–∏—Ñ—Ç—ã)
```

---

## üîß –®–∞–≥ 7: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å ESP32-S3

### 7.1 –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤
–°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –≤ ESP32 –ø—Ä–æ–µ–∫—Ç:
```bash
cp ui.* screens.* vars.* assets.* /path/to/esp32/main/ui/
```

### 7.2 –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ main.c
```c
#include "ui/ui.h"
#include "ui/vars.h"

void app_main(void)
{
    // ... –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è LCD –∏ LVGL ...
    
    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è EEZ Studio UI
    ui_init();
    
    // –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á
    xTaskCreate(can_receive_task, "CAN_RX", 4096, NULL, 5, NULL);
    xTaskCreate(ui_update_task, "UI_UPDATE", 4096, NULL, 4, NULL);
    
    // –û—Å–Ω–æ–≤–Ω–æ–π LVGL —Ü–∏–∫–ª
    while (1) {
        lv_timer_handler();
        ui_tick();
        vTaskDelay(pdMS_TO_TICKS(5));
    }
}
```

### 7.3 –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ CAN –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
```c
#include "ui/vars.h"

void update_engine_gauges(uint16_t rpm, uint16_t map, uint8_t tps)
{
    // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö EEZ Studio
    set_var_engine_rpm(rpm);
    set_var_map_pressure(map);
    set_var_tps_position(tps);
}

void update_boost_gauges(uint8_t wastegate, uint16_t target)
{
    set_var_wastegate_pos(wastegate);
    set_var_target_boost(target);
}

void update_tcu_status(uint8_t protection_flags)
{
    int status = 0;  // OK
    if (protection_flags & 0x20) status = 2;      // ERROR
    else if (protection_flags & 0x0F) status = 1; // WARNING
    
    set_var_tcu_status(status);
}
```

---

## ‚úÖ –®–∞–≥ 8: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### 8.1 –°–∏–º—É–ª—è—Ü–∏—è –≤ EEZ Studio
1. –í EEZ Studio –Ω–∞–∂–º–∏—Ç–µ **"Run"** –¥–ª—è —Å–∏–º—É–ª—è—Ü–∏–∏
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤—Å–µ—Ö –¥–∞—Ç—á–∏–∫–æ–≤
3. –ò–∑–º–µ–Ω–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –∞–Ω–∏–º–∞—Ü–∏—é

### 8.2 –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ ESP32
1. –°–∫–æ–º–ø–∏–ª–∏—Ä—É–π—Ç–µ –ø—Ä–æ–µ–∫—Ç: `idf.py build`
2. –ü—Ä–æ—à–µ–π—Ç–µ: `idf.py flash monitor`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–∞—Ç—á–∏–∫–æ–≤ –Ω–∞ —Ä–µ–∞–ª—å–Ω–æ–º –¥–∏—Å–ø–ª–µ–µ
4. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ CAN-—à–∏–Ω—É –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

---

## üö® –¢–∏–ø–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏

### –ü—Ä–æ–±–ª–µ–º–∞: –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–∑–º–µ—Ä—ã canvas (800√ó480) –∏ –ø–æ–∑–∏—Ü–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

### –ü—Ä–æ–±–ª–µ–º–∞: –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –Ω–µ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è
**–†–µ—à–µ–Ω–∏–µ:** –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤—ã–∑—ã–≤–∞–µ—Ç–µ `ui_tick()` –≤ –æ—Å–Ω–æ–≤–Ω–æ–º —Ü–∏–∫–ª–µ

### –ü—Ä–æ–±–ª–µ–º–∞: –¶–≤–µ—Ç–∞ –Ω–µ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–æ—Ä–º–∞—Ç —Ü–≤–µ—Ç–æ–≤ (#RRGGBB) –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ç–µ–º—ã

### –ü—Ä–æ–±–ª–µ–º–∞: Build –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è —Å –æ—à–∏–±–∫–∞–º–∏
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Å–æ–∑–¥–∞–Ω—ã –∏ –ø—Ä–∏–≤—è–∑–∞–Ω—ã –∫ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º

---

## üìã –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫

```
‚òê EEZ Studio —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
‚òê –°–æ–∑–¥–∞–Ω –Ω–æ–≤—ã–π LVGL –ø—Ä–æ–µ–∫—Ç "ECU_Dashboard"
‚òê –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã —Ä–∞–∑–º–µ—Ä—ã –¥–∏—Å–ø–ª–µ—è 800√ó480
‚òê –°–æ–∑–¥–∞–Ω—ã 6 –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –¥–ª—è CAN –¥–∞–Ω–Ω—ã—Ö
‚òê –î–æ–±–∞–≤–ª–µ–Ω—ã 6 Arc –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —á–µ—Ä–µ–∑ drag-and-drop
‚òê –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã –ø–æ–∑–∏—Ü–∏–∏, —Ä–∞–∑–º–µ—Ä—ã –∏ —Ü–≤–µ—Ç–∞ –¥–∞—Ç—á–∏–∫–æ–≤
‚òê –î–æ–±–∞–≤–ª–µ–Ω LED –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è TCU —Å—Ç–∞—Ç—É—Å–∞
‚òê –ü—Ä–∏–≤—è–∑–∞–Ω—ã –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∫ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º
‚òê –î–æ–±–∞–≤–ª–µ–Ω—ã Labels —Å –Ω–∞–∑–≤–∞–Ω–∏—è–º–∏ –¥–∞—Ç—á–∏–∫–æ–≤
‚òê –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ —Ç–µ–º–Ω–∞—è automotive —Ç–µ–º–∞
‚òê –ü—Ä–æ–µ–∫—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω –∏ —É—Å–ø–µ—à–Ω–æ —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω (üîß)
‚òê –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω—ã –≤ ESP32 –ø—Ä–æ–µ–∫—Ç
‚òê –û–±–Ω–æ–≤–ª–µ–Ω—ã CAN –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å EEZ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏
‚òê –ü—Ä–æ–µ–∫—Ç –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω –Ω–∞ —Ä–µ–∞–ª—å–Ω–æ–º hardware
```

---

**–í—Ä–µ–º—è —Å–æ–∑–¥–∞–Ω–∏—è:** ~2-3 —á–∞—Å–∞ –¥–ª—è –ø–µ—Ä–≤–æ–≥–æ —Ä–∞–∑–∞  
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π ECU Dashboard —Å EEZ Studio –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º–∏  
**–§–∞–π–ª:** EEZ_STUDIO_STEP_BY_STEP.md  
**–í–µ—Ä—Å–∏—è:** 1.0  
**–î–∞—Ç–∞:** 26 –∏—é–ª—è 2025