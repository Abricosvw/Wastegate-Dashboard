# Инструкции по импорту ECU Dashboard в SquareLine Studio

## Шаг 1: Скачайте файлы проекта
Скачайте из Replit:
- `ECU_Dashboard.spj` - файл проекта SquareLine Studio
- `ECU_Dashboard_SquareLine.tar.gz` - архив с кодом

## Шаг 2: Импорт проекта в SquareLine Studio

### Вариант A: Прямой импорт (рекомендуется)
1. Откройте SquareLine Studio
2. **File → Open Project**
3. Выберите файл `ECU_Dashboard.spj`
4. Проект автоматически загрузится со всеми настройками

### Вариант B: Создание нового проекта
1. **Create → New Project**
2. Разрешение: **800×480**
3. MCU: **ESP32S3** или **STM32**
4. Color depth: **16-bit**
5. Вручную создайте элементы согласно спецификации ниже

## Шаг 3: Проверьте визуализацию

После импорта вы должны увидеть:
- ✅ Черный фон экрана (#0A0A0A)
- ✅ Заголовок "Turbo Control Dashboard"
- ✅ 6 датчиков в сетке 3×2:
  - **MAP Pressure** (синий #00D4FF): 100-250 kPa
  - **Wastegate** (зеленый #00FF88): 0-100%
  - **TPS** (желтый #FFD700): 0-100%
  - **RPM** (оранжевый #FF6B35): 0-7000 RPM
  - **Target Boost** (желтый #FFD700): 100-250 kPa
  - **TCU Status** (зеленая панель): Normal/Protection/Limp
- ✅ Статус подключения в правом верхнем углу

## Шаг 4: Настройки датчиков

### Параметры Arc виджетов:
- **Start Angle**: 135°
- **End Angle**: 45° (дуга 270°)
- **Arc Width**: 8px
- **Background**: Темно-серый
- **Knob**: Отключен

### Цветовая схема:
```
Background: #0A0A0A (очень темный)
Cards: #1A1A1A (темно-серый)
Text: #FFFFFF (белый)
Border: #333333 (серый)

MAP: #00D4FF (синий)
Wastegate: #00FF88 (зеленый)
TPS: #FFD700 (желтый)
RPM: #FF6B35 (оранжевый)
Target: #FFD700 (желтый)
Success: #00FF88
Warning: #FF6B35
Danger: #FF3366
```

## Шаг 5: Тестирование в Simulator

1. Нажмите **Play** (▶️) в SquareLine Studio
2. Проверьте корректность отображения:
   - Все датчики видны
   - Правильные цвета
   - Читаемые подписи
   - Корректные диапазоны значений

## Шаг 6: Экспорт для микроконтроллера

После проверки:
1. **File → Export → UI Files**
2. Выберите папку для экспорта
3. Замените сгенерированные файлы на файлы из архива:
   - `ui.c` → содержимое `ui_screens.c`
   - `ui.h` → содержимое `ui.h`
   - `ui_events.c` → содержимое `ui_events.c`
4. Добавьте файлы CAN интеграции:
   - `ecu_can_integration.c/h`
   - `ecu_data_structures.h`
   - `main_integration_example.c`

## Настройки размеров датчиков

Проект поддерживает 4 размера:
- **Маленький**: 150×150px
- **Средний**: 200×200px (по умолчанию)
- **Большой**: 280×280px
- **Очень большой**: 350×350px

Для изменения размера измените width/height всех Arc виджетов.

## Настройки сетки

Поддерживаемые сетки:
- 1×6 (вертикальная полоса)
- 2×3 (стандартная)
- 3×2 (горизонтальная)
- 6×1 (горизонтальная полоса)

## Возможные проблемы

### Проект не открывается:
- Убедитесь что версия SquareLine Studio 1.3.0+
- Проверьте что файл .spj не поврежден

### Неправильные цвета:
- Вручную настройте цвета согласно таблице выше
- Проверьте что цвета в формате HEX (#RRGGBB)

### Датчики не отображаются:
- Проверьте размеры экрана (800×480)
- Убедитесь что элементы не выходят за границы экрана

## Дополнительные настройки

### Шрифты:
- Заголовки: Montserrat Bold 24px
- Значения: Montserrat Regular 32px
- Единицы: Montserrat Regular 14px

### Анимации:
- Arc transitions: 200ms
- Value updates: Smooth
- Color warnings: Instant

После успешного импорта и проверки вы готовы к компиляции и загрузке на микроконтроллер!